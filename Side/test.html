<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google Sheets Data</title>
</head>
<body>

<div id="dataDisplay"></div>

<script>
const IDList = ["0", "812572364", "1409221590", "32017675"];
const name = [];

function fetchData(id) {
    const httpRequest = new XMLHttpRequest();
    const url = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRZO5_Xb0jVltZCUnjJVOqE4d1q08pLnZugLRKJgChzBQqsCDbeIJKWRcm0Dy1bovTgOXHS7o8dnYlH/pub?gid=' + id + '&single=true&output=csv';
    httpRequest.open('GET', url, true);
    httpRequest.send();

    httpRequest.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            const name_csv = this.responseText;
            const name_rows = name_csv.split('\r\n').map(row => row.split(','));
            const name_list = [];
            for (let i = 1; i < name_rows.length; i++) {
                const rowObject = {};
                for (let j = 0; j < name_rows[i].length; j++) {
                    rowObject[name_rows[0][j]] = name_rows[i][j];
                }
                name_list.push(rowObject);
            }
            name.push(name_list);
            console.log(name[IDList.indexOf(id)]);
        }
    };
}

// Call fetchData function for each ID in IDList
IDList.forEach(fetchData);
</script>

</body>
</html>
